{%load static%}
<!DOCTYPE html>
<html class="st-layout ls-top-navbar ls-bottom-footer show-sidebar sidebar-l1 sidebar-r1-xs" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>Basureros satelites</title>

  <!-- Vendor CSS BUNDLE
    Includes styling for all of the 3rd party libraries used with this module, such as Bootstrap, Font Awesome and others.
    TIP: Using bundles will improve performance by reducing the number of network requests the client needs to make when loading the page. -->
  <!-- <link href="css/vendor/all.css" rel="stylesheet"> -->

  <!-- Vendor CSS Standalone Libraries
        NOTE: Some of these may have been customized (for example, Bootstrap).
        See: src/less/themes/{theme_name}/vendor/ directory -->
  <link href="{% static 'css/vendor/bootstrap.css'%}" rel="stylesheet">
  <link href="{% static 'css/vendor/font-awesome.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/picto.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/material-design-iconic-font.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/datepicker3.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/jquery.minicolors.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/bootstrap-slider.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/railscasts.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/jquery-jvectormap.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/owl.carousel.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/slick.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/morris.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/ui.fancytree.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/daterangepicker-bs3.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/jquery.bootstrap-touchspin.css' %}" rel="stylesheet">
  <link href="{% static 'css/vendor/select2.css' %}" rel="stylesheet">

  <!-- APP CSS BUNDLE [css/app/app.css]
INCLUDES:
    - The APP CSS CORE styling required by the "html" module, also available with main.css - see below;
    - The APP CSS STANDALONE modules required by the "html" module;
NOTE:
    - This bundle may NOT include ALL of the available APP CSS STANDALONE modules;
      It was optimised to load only what is actually used by the "html" module;
      Other APP CSS STANDALONE modules may be available in addition to what's included with this bundle.
      See src/less/themes/html/app.less
TIP:
    - Using bundles will improve performance by greatly reducing the number of network requests the client needs to make when loading the page. -->
  <!-- <link href="css/app/app.css" rel="stylesheet"> -->

  <!-- App CSS CORE
This variant is to be used when loading the separate styling modules -->
  <link href="{% static 'css/app/main.css' %}" rel="stylesheet">

  <!-- App CSS Standalone Modules
    As a convenience, we provide the entire UI framework broke down in separate modules
    Some of the standalone modules may have not been used with the current theme/module
    but ALL modules are 100% compatible -->

  <link href="{% static 'css/app/essentials.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/layout.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/sidebar.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/sidebar-skins.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/navbar.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/media.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/maps.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/colors-buttons.css' %}" rel="stylesheet" />
  <link href="{% static 'css/app/colors-text.css' %}" rel="stylesheet" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!-- If you don't need support for Internet Explorer <= 8 you can safely remove these -->
  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

</head>

<body>

  <!-- Wrapper required for sidebar transitions -->
  <div class="st-container">

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <a href="#sidebar-menu" data-toggle="sidebar-menu" class="toggle pull-left visible-xs"><i class="fa fa-bars"></i></a>
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-nav">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <a href="#sidebar-map" data-toggle="sidebar-menu" class="toggle pull-right visible-xs"><i class="fa fa-map-marker"></i></a>

          <a class="navbar-brand" href="index.html">Basureros satelites</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="main-nav">
          <ul class="nav navbar-nav navbar-right ">
            <!-- Login -->
            <li class="open" id="trashes">
              <a href="#" onclick="getBasureros()">
                <i class="fa fa-fw fa-trash"></i> Basureros
              </a>
            </li>
            <!-- // END login -->
            <!-- Sign up -->
            <li class="" id="reports">
              <a href="#" onclick="getReportes()">
                <i class="fa fa-fw fa-location-arrow "></i> Reportes
              </a>
            </li>
            <!-- // END sign up -->
          </ul>
        </div>
        <!-- /.navbar-collapse -->

      </div>
    </nav>

    <!-- Sidebar component with st-effect-1 (set on the toggle button within the navbar) -->
    <aside class="sidebar right sidebar-size-xs-1 sidebar-size-lg-48pc sidebar-size-40pc sidebar-offset-0 sidebar-skin-white" id=sidebar-map data-toggle-layout=sidebar-r-48pc-lg,sidebar-r-40pc data-toggle-bar=true data-overlay=false>
      <div>

        <h4 class="category">Archivos</h4>
        <a href="#sidebar-map" id="close-sidebar" data-toggle="sidebar-menu"><i class="fa fa-close"></i></a>
        <div class="sidebar-block padding-none">
          <div data-toggle="gridalicious" data-width="200" sidebar-content>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-primary inline absolute left margin-none">Sale</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-378874-real-estate-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Property for sale</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;277,028.00</span>&nbsp;

                <i class="small fa fa-fw icon-home-fill-1" data-toggle="tooltip" data-title="Agency"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-default inline absolute left margin-none">Sale</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-195203-houses-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Property for sale</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;82,331.00</span>&nbsp;

                <i class="small fa fa-fw icon-home-fill-1" data-toggle="tooltip" data-title="Agency"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-default inline absolute left margin-none">Sale</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-196089-house-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Property for sale</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;81,662.00</span>&nbsp;

                <i class="small fa fa-fw icon-user-1" data-toggle="tooltip" data-title="Individual"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-primary inline absolute left margin-none">Rent</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-197173-residential-home-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Residential Home</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;132,021.00</span>&nbsp;

                <i class="small fa fa-fw icon-user-1" data-toggle="tooltip" data-title="Individual"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-primary inline absolute left margin-none">Rent</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-3979102-superb-backyard-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Superb Backyard</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;175,654.00</span>&nbsp;

                <i class="small fa fa-fw icon-home-fill-1" data-toggle="tooltip" data-title="Agency"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-default inline absolute left margin-none">Sale</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-2238345-apartments-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Apartment</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;187,285.00</span>&nbsp;

                <i class="small fa fa-fw icon-user-1" data-toggle="tooltip" data-title="Individual"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-default inline absolute left margin-none">Sale</div>
              <div class="cover hover overlay margin-none">
                <img src="{% static 'images/photodune-1112879-modern-kitchen-in-luxury-mansion-xs.jpg' %}" alt="location" class="img-responsive" />
                <a href="property.html" class="overlay overlay-full overlay-bg-black overlay-hover">
                  <span class="v-center">
                <span class="btn btn-circle btn-white"><i class="fa fa-eye"></i></span>
                  </span>
                </a>
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">Luxury Mansion</h4>
                <p class="small">
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                  <span class="fa fa-fw fa-star-o text-yellow-800"></span>
                </p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
                <span class="label label-grey-100">&euro;72,152.00</span>&nbsp;

                <i class="small fa fa-fw icon-home-fill-1" data-toggle="tooltip" data-title="Agency"></i>

                <a href="property.html" class="btn btn-primary btn-circle absolute bottom right"><i class="fa fa-shopping-cart"></i></a>
              </div>
            </div>
          </div>
        </div>

        <div class="sidebar-block equal-padding">
          <ul class="pagination margin-none">
            <li class="disabled"><a href="#">&laquo;</a></li>
            <li class="active"><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">&raquo;</a></li>
          </ul>
        </div>

      </div>
    </aside>

    <!-- sidebar effects OUTSIDE of st-pusher: -->
    <!-- st-effect-1, st-effect-2, st-effect-4, st-effect-5, st-effect-9, st-effect-10, st-effect-11, st-effect-12, st-effect-13 -->

    <!-- content push wrapper -->
    <div class="st-pusher">

      <!-- sidebar effects INSIDE of st-pusher: -->
      <!-- st-effect-3, st-effect-6, st-effect-7, st-effect-8, st-effect-14 -->

      <!-- this is the wrapper for the content -->
      <div class="st-content">

        <!-- extra div for emulating position:fixed of the menu -->
        <div class="st-content-inner padding-top-none" id="content">

          <!--div id="google-fs-realestate" data-toggle="google-maps" data-file="{% url 'json_basureros_markers' %}" data-zoom-position="LEFT_BOTTOM" class="maps-google-fs" center="10.406563,-75.5122578"></div-->

          <div class="maps-google-fs" id="real-map"></div>
          <div id="load-main">
            <svg class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
               <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
            </svg>
          </div>

          {% verbatim %}
          <script id="real-estate-map-pop-1" type="text/x-handlebars-template">
            <div class="padding-none full">
              <div class="ribbon-heading text-h5 {{ ribbon_mark_class }} absolute leftinline margin-none">Basurero</div>
              <div class="cover overlay cover-image-full margin-none">
                <a class="thumb" data-height="150px">
                  <img src="{{ image }}" alt="image" class="img-responsive">
                </a>
              </div>
              <div class="list-group margin-none">
                <div class="list-group-item">
                  <h4 class="margin-v-0-5">{{ title }}</h4>
                  <p>{{ description }}</p>
                  <label class="label label-grey-100">{{ price }} m<sup>3</sup></label>&nbsp;
                  <small>
                    <a href="#sidebar-map" data-toggle="sidebar-menu" onclick="load_photos({{pk}})">Ver fotos</a>
                  </small>
                </div>
              </div>
            </div>
          </script>

          <script id="real-estate-map-pop_home" type="text/x-handlebars-template">
            <div class="padding-none">
              <div class="ribbon-heading text-h5 {{ ribbon_mark_class }} absolute left inline margin-none">
                {{ ribbon_mark_text }}
              </div>
              <div class="cover cover-image-full margin-none">
                <a href="{{ details_url }}" class="thumb" data-height="150px">
                  <img src="{{ image }}" alt="image" class="img-responsive">
                </a>
              </div>
              <div class="text-center">
                <h4 class="text-primary margin-bottom-none">{{ title }}</h4>
                <p class="h5 text-muted margin-v-5-15">{{ location }}</p>
              </div>
            </div>
          </script>

          <script id="real-estate-map-pop_profile" type="text/x-handlebars-template">
            <div class="text-center">
              <p>
                <img src="{{ image }}" alt="" class="img-circle" />
              </p>
              <h4><a href="{{ details_url }}" class="text-grey-700">{{ name }}</a></h4>
              <a href="mailto:{{ email }}">{{ email }}</a>
              <br/>
              <p class="text-muted"><i class="fa fa-user fa-fw"></i>Agent <i class="fa fa-home fa-fw"></i>{{ no_properties }} Properties</p>
            </div>
          </script>

          <script id="report_template" type="text/x-handlebars-template">
            <div class="panel panel-default relative">
              <div class="ribbon-heading ribbon-primary inline absolute left margin-none">Rerporte</div>
              <div class="cover hover overlay margin-none">
                <img src="{{ imagen }}" alt="location" class="img-responsive" />
              </div>
              <div class="panel-body">
                <h4 class="margin-v-0-5">{{ fecha }}</h4>
                <p>{{latitude}}, {{longitude}}</p>
              </div>
            </div>
          </script>


          {% endverbatim %}
        </div>
        <!-- /st-content-inner -->

      </div>
      <!-- /st-content -->

    </div>
    <!-- /st-pusher -->

    <!-- Footer -->
    <footer class="footer">
      <strong>Real Estate</strong> v1.2.0 &copy; Copyright 2015
    </footer>
    <!-- // Footer -->

  </div>

  <!-- Inline Script for colors and config objects; used by various external scripts; -->
  <script>
    var colors = {
      "danger-color": "#e74c3c",
      "success-color": "#81b53e",
      "warning-color": "#f0ad4e",
      "inverse-color": "#2c3e50",
      "info-color": "#2d7cb5",
      "default-color": "#6e7882",
      "default-light-color": "#cfd9db",
      "purple-color": "#9D8AC7",
      "mustard-color": "#d4d171",
      "lightred-color": "#e15258",
      "body-bg": "#f6f6f6"
    };
    var config = {
      theme: "html",
      skins: {
        "default": {
          "primary-color": "#16ae9f"
        }
      }
    };
  </script>

  <!-- Vendor Scripts Bundle
    Includes all of the 3rd party JavaScript libraries above.
    The bundle was generated using modern frontend development tools that are provided with the package
    To learn more about the development process, please refer to the documentation.
    Do not use it simultaneously with the separate bundles above. -->
  <!-- <script src="js/vendor/all.js"></script> -->

  <!-- Vendor Scripts Standalone Libraries -->
  <!-- <script src="js/vendor/core/all.js"></script> -->
  <script src="{% static 'js/vendor/core/jquery.js' %}"></script>
  <script src="{% static 'js/vendor/core/bootstrap.js' %}"></script>
  <script src="{% static 'js/vendor/core/breakpoints.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery.nicescroll.js' %}"></script>
  <script src="{% static 'js/vendor/core/isotope.pkgd.js' %}"></script>
  <script src="{% static 'js/vendor/core/packery-mode.pkgd.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery.grid-a-licious.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery.cookie.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery-ui.custom.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery.hotkeys.js' %}"></script>
  <script src="{% static 'js/vendor/core/handlebars.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery.hotkeys.js' %}"></script>
  <script src="{% static 'js/vendor/core/load_image.js' %}"></script>
  <script src="{% static 'js/vendor/core/jquery.debouncedresize.js' %}"></script>
  <script src="{% static 'js/vendor/forms/all.js' %}"></script>
  <script src="{% static 'js/vendor/media/all.js' %}"></script>
  <!-- <script src="js/vendor/angular/all.js"></script> -->

  <!-- App Scripts Bundle
    Includes Custom Application JavaScript used for the current theme/module;
    Do not use it simultaneously with the standalone modules below. -->
  <!-- <script src="js/app/app.js"></script> -->

  <!-- App Scripts Standalone Modules
    As a convenience, we provide the entire UI framework broke down in separate modules
    Some of the standalone modules may have not been used with the current theme/module
    but ALL the modules are 100% compatible -->

  <script src="{% static 'js/app/essentials.js' %}"></script>
  <script src="{% static 'js/app/layout.js' %}"></script>
  <script src="{% static 'js/app/sidebar.js' %}"></script>
  <script src="{% static 'js/app/media.js' %}"></script>
  <script src="{% static 'js/app/maps.js' %}"></script>

  <!-- App Scripts CORE [html]:
        Includes the custom JavaScript for this theme/module;
        The file has to be loaded in addition to the UI modules above;
        app.js already includes main.js so this should be loaded
        ONLY when using the standalone modules; -->
  <script src="{% static 'js/app/main.js' %}"></script>
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyD1tjEA-nc_qr9ta0sqmqVtQSJLkNxj8T0&libraries=visualization"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      var mapOptions = {
        zoom: 13,
        center: new google.maps.LatLng(10.3998334,-75.5066745)
      }

      container = document.getElementById('real-map')

      map = new google.maps.Map(container, mapOptions);
      infoWindow =  new google.maps.InfoWindow({
        content: "hola mundo"
      });

      markers = []
      heatmap = null;
      heatpoints = [];
      getBasureros();

 var styledMapType = new google.maps.StyledMapType(
      [
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#f5f5f5"
      }
    ]
  },
  {
    "elementType": "labels.icon",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#f5f5f5"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#bdbdbd"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#eeeeee"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e5e5e5"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#ffffff"
      }
    ]
  },
  {
    "featureType": "road.arterial",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dadada"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "road.local",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "transit.line",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e5e5e5"
      }
    ]
  },
  {
    "featureType": "transit.station",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#eeeeee"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#c9c9c9"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  }
]);
        map.mapTypes.set('styled_map', styledMapType);
        map.setMapTypeId('styled_map');
    })

    function getBasureros(){
      $("#load-main").show();
      $("#trashes").addClass("open");
      $("#reports").removeClass("open");
      clearMap();
      markers = [];
      $.getJSON("{% url 'json_basureros_markers' %}", function (data) {
          $.each(data.markers, function (i, marker) {
              var o = typeof marker.options !== 'undefined' ? marker.options : {};
              addMarker(i, marker, o, container, map);
          });
          $("#load-main").hide();
      });
    }

    function clearMap(){
      $.each(markers, function(i, marker){
        marker.setMap(null);
      });
      markers = [];

      if (heatmap) {
        heatmap.setMap(null);
        heatmap = null;
      }
    }

    function getReportes(url){
      $("#load-main").show();
      if (url == undefined || url == null) {
        url = "{% url 'reporte-list' %}?format=json";
        clearMap();
        $("#reports").addClass("open");
        $("#trashes").removeClass("open");
      };
      console.log(url);
      $.getJSON(url, function (data) {
          $.each(data.results, function (i, marker) {
              heatpoints.push(new google.maps.LatLng(marker.gps.latitude, marker.gps.longitude))
              console.log(marker);
          });
          if (data.next) {
            getReportes(data.next);
          }else{
            heatmap = new google.maps.visualization.HeatmapLayer({
              data: heatpoints,
              map: map
            });
            $("#load-main").hide();
          }
      });
    }

    addMarker = function (i, marker, options, container, map) {
          var iconBase = '/static/images/markers/';
          var position = typeof marker.latLng !== 'undefined' ? marker.latLng : false;
          if (! position && typeof marker.latitude !== 'undefined' && typeof marker.longitude !== 'undefined') position = new google.maps.LatLng(marker.latitude, marker.longitude);
          if (! position) return false;

          var markerOptions = {
              "id": i,
              "position": position,
              "draggable": false,
              "icon": iconBase + marker.icon + ".png",
              "map": map
          };

          if (typeof options == 'object') markerOptions = $.extend({}, markerOptions, options);

          var open = typeof marker.open !== 'undefined' && marker.open === true;

          var markerInst = new google.maps.Marker(markerOptions);
          markers.push(markerInst);

          markerInst.setTitle(marker.title);

          google.maps.event.addListener(markerInst, 'click', function () {
            infoWindow.setContent(infoWindowContent(marker));
            infoWindow.open(map, markerInst);
            map.setCenter(position);
          });

          var markerData = $.extend({}, marker, {
              "id": i,
              "latLng": new google.maps.LatLng(marker.latitude, marker.longitude)
          });

          markerInst.set('content', markerData);

          if (open) infoWindowOpen(i, marker);

          return markerInst;
      };

      infoWindowContent = function (marker) {
          var source = $("#" + marker.template).html();
          var template = Handlebars.compile(source);
          return template(marker);
      };

      function load_photos(pk){
        var sidebar = $("[sidebar-content]");
        sidebar.html("");
        console.log(sidebar);
        $.getJSON("{% url 'json_reportes_basureros' %}?pk="+pk, function (data) {
          $.each(data, function (i, reporte) {
             console.log("load fotos", reporte);
             var source = $("#report_template").html();
             var template = Handlebars.compile(source);
             sidebar.append(template(reporte));
          });
        });
      }
  </script>

  <style type="text/css">
    #close-sidebar{
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 15px;
    }
    [sidebar-content] .galcolumn{
      display: none;
    }

    aside.sidebar.right {
      overflow: auto;
    }

    #load-main {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.65);
      z-index: 99999;
    }

// Here is where the magic happens


    .spinner {
      animation: rotator 1.4s linear infinite;
    }

    @keyframes rotator {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(270deg); }
    }

    .path {
      stroke-dasharray: 187;
      stroke-dashoffset: 0;
      transform-origin: center;
      animation:
        dash 1.4s ease-in-out infinite, 
        colors 5.6s ease-in-out infinite;
    }

    @keyframes colors {
      0% { stroke: #4285F4; }
      25% { stroke: #DE3E35; }
      50% { stroke: #F7C223; }
      75% { stroke: #1B9A59; }
      100% { stroke: #4285F4; }
    }

    @keyframes dash {
     0% { stroke-dashoffset: 187; }
     50% {
       stroke-dashoffset: 46.75;
       transform:rotate(135deg);
     }
     100% {
       stroke-dashoffset: 187;
       transform:rotate(450deg);
     }
    }
  </style>

</body>

</html>